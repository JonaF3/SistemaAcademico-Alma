{% extends "base.html" %}

{% block title %}Inicio - Sistema AcadÃ©mico{% endblock %}

{% block content %}
<h2 style="color: #667eea; margin-bottom: 20px;">ðŸ“š Estudiantes Registrados</h2>

{% if estudiantes %}
<table>
    <thead>
        <tr>
            <th>CÃ³digo</th>
            <th>CÃ©dula</th>
            <th>Nombre Completo</th>
            <th>Carrera</th>
            <th>Email</th>
            <th>Estado</th>
        </tr>
    </thead>
    <tbody>
        {% for estudiante in estudiantes %}
        <tr>
            <td><strong>{{ estudiante.codigo_estudiante }}</strong></td>
            <td>{{ estudiante.cedula }}</td>
            <td>{{ estudiante.nombre }} {{ estudiante.apellido }}</td>
            <td>{{ estudiante.carrera }}</td>
            <td>{{ estudiante.email }}</td>
            <td>
                <span class="badge {{ estudiante.estado_matricula.replace('_', '-') }}">
                    {{ estudiante.estado_matricula.replace('_', ' ').title() }}
                </span>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<div class="empty-state">
    <p>ðŸ“­ No hay estudiantes registrados aÃºn</p>
    <p>Comienza registrando un nuevo estudiante</p>
</div>
{% endif %}

<h2 style="color: #667eea; margin: 40px 0 20px 0;">ðŸ“‹ Proformas Generadas</h2>

{% if proformas %}
<table>
    <thead>
        <tr>
            <th>NÃºmero Proforma</th>
            <th>Estudiante</th>
            <th>CÃ³digo</th>
            <th>Monto</th>
            <th>Fecha</th>
            <th>Estado</th>
        </tr>
    </thead>
    <tbody>
        {% for proforma in proformas %}
        <tr>
            <td><strong>{{ proforma.numero_proforma }}</strong></td>
            <td>{{ proforma.nombre }} {{ proforma.apellido }}</td>
            <td>{{ proforma.codigo_estudiante }}</td>
            <td>${{ "%.2f"|format(proforma.monto) }}</td>
            <td>{{ proforma.fecha_generacion[:10] }}</td>
            <td><span class="badge {{ proforma.estado }}">{{ proforma.estado.title() }}</span></td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<div class="empty-state">
    <p>ðŸ“­ No hay proformas generadas aÃºn</p>
</div>
{% endif %}
{% endblock %}